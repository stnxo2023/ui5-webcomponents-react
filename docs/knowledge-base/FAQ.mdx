import { Meta } from '@storybook/addon-docs/blocks';
import { Footer, TableOfContent } from '@sb/components';
import { MessageStrip } from '@ui5/webcomponents-react';
import SbTagFilter from '@sb/images/sb-pkg-filter.png';
import { Badge } from "@sb/components/Badge.js";

<Meta title="FAQ" />

<TableOfContent />

# FAQ

<MessageStrip
  hideCloseButton
  children={
    <>
      Please also take a look at the FAQ of{' '}
      <ui5-link href="https://ui5.github.io/webcomponents/docs/FAQ/">
        UI5 Web Components
      </ui5-link>
      .
    </>
  }
/>

<br />
<br />

## Where Can I Find All Compatible Versions of `@ui5/webcomponents` and `@ui5/webcomponents-react`?

All necessary `@ui5/webcomponents` packages are `peerDependencies` of `@ui5/webcomponents-react`, so if you're using npm v7 or later, then these dependencies should be auto installed when running `npm install`.
If you want to check which versions are compatible you can find a compatibility table [here](?path=/docs/getting-started--docs#add-ui5webcomponents-react-to-an-existing-app).

## What Are "abstract" UI5 Web Components?

Abstract UI5 Web Components are mainly there to pass props to the actual component inside the shadow root. Therefore, all attributes passed to the element, will have no effect on the actual component.

### Example

Rendering a `ComboBoxItem` with some custom HTML attributes...

```jsx
<ComboBox>
  <ComboBoxItem text="ComboBoxItem1" title="Hello" style={{ backgroundColor: 'red' }} />
</ComboBox>
```

...will result in an element that looks like this:

```html
<ui5-cb-item
  text="ComboBoxItem1"
  title="Hello"
  style="background-color: red;"
  _ui5rt0=""
  _ui5host=""
  ui5-cb-item=""
></ui5-cb-item>
```

As you can see, both `title` and `style` are correctly applied, but since the item doesn't have children, nor a shadow root the attributes don't have an effect on the component.

## How Can I Style Elements Inside the Shadow Root of a Web Component?

Styling elements inside the shadow root is only supported by leveraging the [`::part` pseudo-element](https://developer.mozilla.org/en-US/docs/Web/CSS/::part). You can find out more about this [here](?path=/docs/knowledge-base-styling--docs#css-shadow-parts).

## How Can I Reuse or Change Colors, Fonts, etc. of UI5 Web Components for React?

UI5 Web Components for React comes with a [publicly available](https://github.com/SAP/theming-base-content) set of CSS variables that ensure the same look and feel across applications. Changing these values is not recommended, if you still need to customize them, you can find out more about this [here](?path=/docs/knowledge-base-styling--docs#styling-ui5-web-components-for-react-components).

To reuse these styles, you can either use the CSS variable, or use our [Theming Parameters](?path=/docs/knowledge-base-public-utils--docs#theming-parameters).

## Why Is Changing the Theme Not Working?

You have to ensure to import the `Assets` with the different themes, otherwise only the default theme will be used.

```ts
import '@ui5/webcomponents-react/dist/Assets';
```

Further information about theming can be found in our and the UI5 Web Components [Theming documentation](?path=/docs/getting-started--docs#theming).

## How Can I Distinguish If a Component Is Developed in the `ui5-webcomponents` or `ui5-webcomponents-react` Repo?

Each component developed by the UI5 Web Components team ([`ui5-webcomponents`](https://github.com/UI5/webcomponents)) that is wrapped by the UI5 Web Components for React ([`ui5-webcomponents-react`](https://github.com/UI5/webcomponents-react)) wrapper includes the following note in its component description:

> **Note**: This is a UI5 Web Component! [Repository](https://github.com/UI5/webcomponents) | [Documentation](https://ui5.github.io/webcomponents/)

If a component does not have this note, it is a React-only component provided exclusively by `ui5-webcomponents-react`.

Additionally, Storybook supports filtering by tags, allowing you to filter by different `ui5-webcomponents(-react)` packages as well:

<img src={SbTagFilter} alt="Storybook Tag Filter" height={420} />

## What Do the Badges in the Side Navigation Mean?

- <Badge type="custom" />: There are no global design or UX specifications for this component, or it deviates from them partially or fully. More details can be found in the component’s description.
- <Badge type="experimental" />: The component or pattern is in an experimental state, meaning changes to its public API may occur without a major version update (`v3.0.0`).
- <Badge type="deprecated" />: The component is deprecated and will be removed in the next major version update (`v3.0.0`). More details can be found in the component's description.

## Why Isn't Scoping Working?

Starting from UI5 Web Components (for React) 2.0.0, the order of imports with regard to scoping and components matters.
Setting the scoping suffix must be done before importing any components, as they use the suffix at the top-level of the module - meaning when a component is imported, the suffix has to be known.
For this to work, calling the method should be done in a separate module (e.g. scoping-config.js) and this module should be imported before any components are imported.
You can find more information about this in the [UI5 Web Components documentation](https://ui5.github.io/webcomponents/docs/advanced/scoping/).

```ts
// scoping-config.js
import { setCustomElementsScopingSuffix } from '@ui5/webcomponents-base/dist/CustomElementsScope.js';
setCustomElementsScopingSuffix('demo');

// app main file, e.g index.js, main.tsx, etc.
import './scoping-config.js';
// now, all other component imports - the scoping config import must be the first import of the app
import { Button } from '@ui5/webcomponents-react/Button';
// ...
```

## Why Use Direct Imports via Package Export Maps

Since [v2.14.0](https://github.com/UI5/webcomponents-react/releases/tag/v2.14.0), `ui5-webcomponents-react` supports **export maps** through the `exports` field in `package.json` ([documentation](https://nodejs.org/api/packages.html#exports)).

Export maps allow you to import components directly from their package entry points instead of relying on deep file paths or the package root (barrel) files.
While most bundlers perform tree-shaking in production builds, so only the code you actually use is included, tree-shaking is often limited or disabled in development. If you import from the package root (a “barrel file”), all components and utilities exported from that root are included in the bundle, even those you don’t use.

```ts
// Root import (less optimal without tree-shaking)
import { Button, AnalyticalTable } from "@ui5/webcomponents-react";

// Direct import (recommended)
import { Button } from "@ui5/webcomponents-react/Button";
import { AnalyticalTable } from "@ui5/webcomponents-react/AnalyticalTable";
```

### Codemod

To migrate from root imports to direct imports, you can use the `exports-map` codemod from the [cli](https://github.com/UI5/webcomponents-react/blob/main/packages/cli/README.md) package.

<MessageStrip
    hideCloseButton
    design="Critical"
    children={
        <>
            The codemod is a best-effort attempt to help you migrate to direct imports. Please review the generated code thoroughly!
            <br />
            <strong>
                Applying the codemod might break your code formatting, so please don't forget to run prettier and/or eslint
                after you've applied the codemod!
            </strong>
        </>
    }
/>

```shell
npx @ui5/webcomponents-react-cli codemod --transform export-maps \
    --src ./path/to/src \
    --typescript # only if you use TypeScript in your project, omit if you use JavaScript
```

<Footer />
