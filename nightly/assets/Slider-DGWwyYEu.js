import{l as f,c as l,au as _,s as p,aH as v,m as g,aI as S,aJ as m,aK as I,aL as y,aM as T}from"./iframe-BkU8WQpb.js";import{S as b,d as P,a as x,b as c}from"./SliderTooltip-ClKwPyVJ.js";function V(){return b.call(this,{progressBar:O,handles:A})}function O(){return l("div",{class:"ui5-slider-progress-container","aria-hidden":"true",part:"progress-container",children:l("div",{class:"ui5-slider-progress",style:this.styles.progress,onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,tabIndex:-1,part:"progress-bar"})})}function A(){return f("div",{class:"ui5-slider-handle-container",style:this.styles.handle,part:"handle-container",children:[l("div",{class:"ui5-slider-handle",onFocusOut:this._onfocusout,onFocusIn:this._onfocusin,onKeyUp:this._onkeyup,role:"slider",tabIndex:this._tabIndex,"aria-orientation":"horizontal","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.value,"aria-label":this._ariaLabel,"aria-disabled":this._ariaDisabled,"aria-keyshortcuts":this._ariaKeyshortcuts,"aria-describedby":this._ariaDescribedByHandleText,"data-sap-focus-ref":!0,part:"handle",id:"handle1",children:l(_,{name:P,mode:"Decorative",part:"icon-slider","slider-icon":!0})}),l(x,{open:this._tooltipsOpen,value:this.tooltipValue,min:this.min,max:this.max,editable:this.editableTooltip,followRef:this.shadowRoot?.querySelector("#handle1"),valueState:this.tooltipValueState,onChange:this._onTooltipChange,onKeyDown:this._onTooltipKeydown,onFocusChange:this._onTooltipFocusChange,onOpen:this._onTooltipOpen,onInput:this._onTooltipInput})]})}var u=function(h,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(h,t,e,i);else for(var d=h.length-1;d>=0;d--)(a=h[d])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},r;let o=r=class extends c{get formFormattedValue(){return this.value.toString()}constructor(){super(),this.value=0,this.tooltipValueState="None",this.tooltipValue="",this._progressPercentage=0,this._handlePositionFromStart=0,this._stateStorage.value=void 0,this._lastValidInputValue=this.min.toString()}onBeforeRendering(){this.isCurrentStateOutdated()&&(this.notResized=!0,this.syncUIAndState(),this._updateHandleAndProgress(this.value))}onAfterRendering(){super.onAfterRendering(),this.tooltip?.repositionTooltip()}syncUIAndState(){this.isPropertyUpdated("step")&&(this._validateStep(this.step),this.storePropertyState("step")),this.isPropertyUpdated("min","max","value")&&(this.storePropertyState("min","max"),this.value=c.clipValue(this.value,this._effectiveMin,this._effectiveMax),this.updateStateStorageAndFireInputEvent("value"),this.storePropertyState("value")),this.labelInterval&&this.showTickmarks&&this._createLabels(),this.isPropertyUpdated("labelInterval")&&this.storePropertyState("labelInterval")}_onmousedown(t){if(this.disabled||this.step===0||t.target.hasAttribute("ui5-slider-tooltip"))return;const e=this.handleDownBase(t);this._valueOnInteractionStart=this.value,this._valueInitial===void 0&&(this._valueInitial=this.value);const i=this.constructor;this._isHandlePressed(i.getPageXValueFromEvent(t))||(this._updateHandleAndProgress(e),this.value=e,this.updateStateStorageAndFireInputEvent("value"))}_onfocusin(){this._valueInitial===void 0&&(this._valueInitial=this.value),this.showTooltip&&(this._tooltipsOpen=!0)}_onfocusout(t){if(this._isFocusing()){this._preventFocusOut();return}this._valueInitial=void 0,this.showTooltip&&!t.relatedTarget?.hasAttribute("ui5-slider-tooltip")&&(this._tooltipsOpen=!1)}_onTooltipChange(t){const e=parseFloat(t.detail.value);if(e<this._effectiveMin||e>this._effectiveMax){this.tooltipValueState="Negative",this.tooltipValue=`${e}`;return}this.value=e,this.fireDecoratorEvent("change")}_onTooltipFocusChange(){const t=parseFloat(this.tooltipValue);(t<this._effectiveMin||t>this._effectiveMax)&&(this.tooltipValueState="None",this.tooltipValue=this.value.toString())}_onTooltipKeydown(t){S(t)&&(t.preventDefault(),this._sliderHandle.focus())}_onTooltipOpen(){const e=this.constructor._getDecimalPrecisionOfNumber(this._effectiveStep);this.tooltipValue=this.value.toFixed(e)}_onTooltipInput(t){this.tooltipValue=t.detail.value}_handleMove(t){if(t.preventDefault(),this.disabled||this._effectiveStep===0)return;const i=this.constructor.getValueFromInteraction(t,this._effectiveStep,this._effectiveMin,this._effectiveMax,this.getBoundingClientRect(),this.directionStart);this._updateHandleAndProgress(i),this.value=i,this.tooltipValue=i.toString(),this.updateStateStorageAndFireInputEvent("value")}_handleUp(){this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this.handleUpBase(),this._valueOnInteractionStart=void 0}_onkeyup(t){const e=c._isActionKey(t);this._onKeyupBase(),e&&this._valueOnInteractionStart!==this.value&&this.fireDecoratorEvent("change"),this._valueOnInteractionStart=this.value}_isHandlePressed(t){const e=this._sliderHandle.getBoundingClientRect();return t>=e.left&&t<=e.right}_updateHandleAndProgress(t){const e=this._effectiveMax,i=this._effectiveMin;this._progressPercentage=(t-i)/(e-i),this._handlePositionFromStart=this._progressPercentage*100}_handleActionKeyPress(t){const e=this._effectiveMin,i=this._effectiveMax,n=this.value,s=this.constructor,a=m(t)?this._valueInitial:s.clipValue(this._handleActionKeyPressBase(t,"value")+n,e,i);a!==n&&(this._updateHandleAndProgress(a),this.value=a,this.tooltipValue=this.value.toString(),this.updateStateStorageAndFireInputEvent("value"))}_onTooltopForwardFocus(t){t.target.followRef?.focus()}get inputValue(){return this.value.toString()}get tooltip(){return this.getDomRef()?.querySelector("[ui5-slider-tooltip]")}get styles(){return{progress:{transform:`scaleX(${this._progressPercentage})`,"transform-origin":`${this.directionStart} top`},handle:{[this.directionStart]:`${this._handlePositionFromStart}%`}}}get _sliderHandle(){return this.shadowRoot.querySelector(".ui5-slider-handle")}get _ariaDisabled(){return this.disabled||void 0}get _ariaLabelledByText(){return r.i18nBundle.getText(I)}get _ariaDescribedByInputText(){return r.i18nBundle.getText(y)}get _ariaLabelledByInputText(){return r.i18nBundle.getText(T)}get tickmarksObject(){const t=this._tickmarksCount,e=[];if(this._hiddenTickmarks)return[!0,!1];for(let i=0;i<=t;i++)e.push(this._effectiveMin+i*this.step<=this.value);return e}};u([p({type:Number})],o.prototype,"value",void 0);u([p()],o.prototype,"tooltipValueState",void 0);u([p()],o.prototype,"tooltipValue",void 0);u([v("@ui5/webcomponents")],o,"i18nBundle",void 0);o=r=u([g({tag:"ui5-slider",languageAware:!0,formAssociated:!0,template:V})],o);o.define();const R=o;export{R as S};
